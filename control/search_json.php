<?php	header('Content-Type: application/json');	include("conexi.php");	$link=Conectarse();		$response = array();	$debug = array();		$term = $_GET["term"];		$tabla = $_GET["tabla"];	$campo = $_GET["campo"];	//$return_extras = $_GET["return_extras"];	//$valor = $_GET["valor"];	//$etiqueta = $_GET["etiqueta"];		//$arr_pairs = $_GET["fields_value"];	//$value = $_GET["value"];		//$query_complete = "SELECT $campo FROM $tabla  ";	//$query_complete = "SELECT $valor, $etiqueta,  FROM $tabla WHERE $etiqueta LIKE '%" . $q . "%'";	$query_complete = "SELECT *  FROM $tabla WHERE $campo LIKE '%" . $term . "%'";				if(isset($_GET["filter_field"])){		$filter_field = $_GET["filter_field"];		$filter_value = $_GET["filter_value"];				$query_complete.= " AND $filter_field = '$filter_value'";	}	if(isset($_GET["campo_2"])){		$campo_2 = $_GET["campo_2"];				$query_complete.= " OR $campo_2 LIKE '%" . $term . "%'";	}		if(isset($_GET["limit"])){		$limit = $_GET["limit"];		$query_complete.= "LIMIT $limit";			}	else{		$limit = 10;		$query_complete.= "LIMIT $limit";			}			$result_complete = mysqli_query($link, $query_complete  )	or die("Error al ejecutar consulta: $query_complete".mysqli_error($link));		$count = 0;	while($row = mysqli_fetch_assoc($result_complete)) {		$count++;				if(isset($_GET["label_extra"])){			$label = $row["$campo"]." | ". $row[$_GET["label_extra"]];		}		else{			$label = $row["$campo"];		}				if(isset($_GET["extra_labels"])){			$extra_labels = "";			foreach($_GET["extra_labels"] as $index=>$value){				$extra_labels.= " | " . $row[$value];							}			$label = $row["$campo"] . $extra_labels;			//$extra_labels = implode ("|", ($_GET["extra_labels"]);		}		else{			$label = $row["$campo"];		}				$fila = array("value" => $row["$campo"], "label" => $label, "extras" => $row );					array_push($response, $fila);			}		if($count == 0 ){				$response[] =  array("value" => "", "label" => "No se encontraron resultados");	}		print(json_encode($response));		?>