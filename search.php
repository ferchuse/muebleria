<?php	include("conex.php");	$link=Conectarse();		class ElementoAutocompletar {	   var $value;	   var $label;	   var $tarjeta;	   var $pu;	  	   function __construct($value, $label, $tarjeta, $pu ){			$this->value = $value;			$this->label = $label;			$this->tarjeta = $tarjeta;			$this->pu = $pu;			   }	}		$tabla = $_GET["tabla"];	$campo = $_GET["campo"];	$valor = $_GET["valor"];	$etiqueta = $_GET["etiqueta"];	$q = $_GET["term"];	$response = array();		//$query_complete = "SELECT $campo FROM $tabla  ";	//$query_complete = "SELECT $valor, $etiqueta,  FROM $tabla WHERE $etiqueta LIKE '%" . $q . "%'";	$query_complete = "SELECT *  FROM $tabla WHERE $etiqueta LIKE '%" . $q . "%' LIMIT 20";		$result_complete = mysql_query( $query_complete, $link )	or die("Error al ejecutar consulta: $query_complete".MYSQL_ERROR());		while($row = mysql_fetch_array($result_complete)) {		$label = $row["$etiqueta"];		$value = $row["$valor"];		$tarjeta = $row["tarjeta"];		$pu = $row["precio_venta"];				if ($campo == "nombre_cliente" ){			$q_tarjetas_cliente = "SELECT *FROM ventas WHERE nombre_cliente = '$nombre_cliente'";			$result_tarjetas = mysql_query( $q_tarjetas_cliente, $link )				or die("Error al ejecutar consulta: $result_tarjetas".MYSQL_ERROR());			while($row = mysql_fetch_array($result_tarjetas)) {				$tarjeta.= $row["tarjeta"];			}		}		//$response["value"] = $id ;		//$response["label"] = $nombre ;		array_push($response, new ElementoAutocompletar($value, $label, $tarjeta, $pu));	}			//return (json_encode($response));	//print($query_complete);	print(json_encode($response));		//ECHO json_encode($response);?>